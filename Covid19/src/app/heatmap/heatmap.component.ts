import { Component, OnInit, AfterViewInit, ViewChild, ElementRef } from '@angular/core';
import { SubscribeService } from '../services/subscribe.service';
import { HeatMapData } from '../models/models';
import { AppService } from '../services/app.service';
import { HttpResponse } from '@angular/common/http';


@Component({
  selector: 'app-heatmap',
  templateUrl: './heatmap.component.html',
  styleUrls: ['./heatmap.component.scss']
})
export class HeatmapComponent implements AfterViewInit {

  userloader: boolean = false;
  heatMapData: HeatMapData[] = [];
  heatmapData: any;


  kolkata = new google.maps.LatLng(22.5726, 88.3639);
  // marker = new google.maps.Marker({
  //   position: this.coordinates,
  //   map: this.map,
  // });

  @ViewChild('mapContainer', {static: false}) gmap: ElementRef;

  constructor(
    public subscribeservice: SubscribeService,
    public appservice: AppService,
    ) { }

  ngAfterViewInit() {
    // this.heatmapData = [
    //   {location: new google.maps.LatLng(22.533, 88.316), weight: 30},
    //   {location: new google.maps.LatLng(22.561, 88.397), weight: 30},
    //   {location: new google.maps.LatLng(22.593, 88.363), weight: 30},
    //   {location: new google.maps.LatLng(22.577, 88.362), weight: 30},
    //   {location: new google.maps.LatLng(22.536, 88.329), weight: 30},
    //   {location: new google.maps.LatLng(22.563, 88.352), weight: 30},
    //   {location: new google.maps.LatLng(22.579, 88.306), weight: 30},
    //   {location: new google.maps.LatLng(22.544, 88.375), weight: 30},
    //   {location: new google.maps.LatLng(22.569, 88.323), weight: 30},
    //   {location: new google.maps.LatLng(22.566, 88.354), weight: 30},
    //   {location: new google.maps.LatLng(22.541, 88.324), weight: 30},
    //   {location: new google.maps.LatLng(22.597, 88.359), weight: 30},
    //   {location: new google.maps.LatLng(22.553, 88.390), weight: 30},
    //   {location: new google.maps.LatLng(22.512, 88.359), weight: 30},
    //   {location: new google.maps.LatLng(22.575, 88.371), weight: 30},
    //   {location: new google.maps.LatLng(22.578, 88.375), weight: 30},
    //   {location: new google.maps.LatLng(22.573, 88.371), weight: 30},
    //   {location: new google.maps.LatLng(22.524, 88.319), weight: 30},
    //   {location: new google.maps.LatLng(22.586, 88.346), weight: 30},
    //   {location: new google.maps.LatLng(22.595, 88.311), weight: 30},
    //   {location: new google.maps.LatLng(22.524, 88.379), weight: 30},
    //   {location: new google.maps.LatLng(22.579, 88.394), weight: 30},
    //   {location: new google.maps.LatLng(22.587, 88.365), weight: 30},
    //   {location: new google.maps.LatLng(22.536, 88.359), weight: 30},
    //   {location: new google.maps.LatLng(22.583, 88.372), weight: 30},
    //   {location: new google.maps.LatLng(22.529, 88.305), weight: 30},
    //   {location: new google.maps.LatLng(22.591, 88.312), weight: 30},
    //   {location: new google.maps.LatLng(22.561, 88.392), weight: 30},
    //   {location: new google.maps.LatLng(22.591, 88.351), weight: 30},
    //   {location: new google.maps.LatLng(22.548, 88.334), weight: 30},
    //   {location: new google.maps.LatLng(22.545, 88.355), weight: 30},
    //   {location: new google.maps.LatLng(22.538, 88.353), weight: 30},
    //   {location: new google.maps.LatLng(22.563, 88.378), weight: 30},
    //   {location: new google.maps.LatLng(22.561, 88.385), weight: 30},
    //   {location: new google.maps.LatLng(22.570, 88.367), weight: 30},
    //   {location: new google.maps.LatLng(22.519, 88.320), weight: 30},
    //   {location: new google.maps.LatLng(22.592, 88.307), weight: 30},
    //   {location: new google.maps.LatLng(22.549, 88.346), weight: 30},
    //   {location: new google.maps.LatLng(22.502, 88.308), weight: 30},
    //   {location: new google.maps.LatLng(22.590, 88.344), weight: 30},
    //   {location: new google.maps.LatLng(22.515, 88.301), weight: 30},
    //   {location: new google.maps.LatLng(22.588, 88.335), weight: 30},
    //   {location: new google.maps.LatLng(22.581, 88.323), weight: 30},
    //   {location: new google.maps.LatLng(22.560, 88.362), weight: 30},
    //   {location: new google.maps.LatLng(22.543, 88.323), weight: 30},
    //   {location: new google.maps.LatLng(22.573, 88.334), weight: 30},
    //   {location: new google.maps.LatLng(22.572, 88.306), weight: 30},
    //   {location: new google.maps.LatLng(22.524, 88.338), weight: 30},
    //   {location: new google.maps.LatLng(22.549, 88.365), weight: 30},
    //   {location: new google.maps.LatLng(22.534, 88.398), weight: 30},
    //   {location: new google.maps.LatLng(22.571, 88.323), weight: 30},
    //   {location: new google.maps.LatLng(22.535, 88.329), weight: 30},
    //   {location: new google.maps.LatLng(22.591, 88.322), weight: 30},
    //   {location: new google.maps.LatLng(22.549, 88.368), weight: 30},
    //   {location: new google.maps.LatLng(22.535, 88.397), weight: 30},
    //   {location: new google.maps.LatLng(22.580, 88.374), weight: 30},
    //   {location: new google.maps.LatLng(22.549, 88.328), weight: 30},
    //   {location: new google.maps.LatLng(22.583, 88.320), weight: 30},
    //   {location: new google.maps.LatLng(22.557, 88.313), weight: 30},
    //   {location: new google.maps.LatLng(22.513, 88.308), weight: 30},
    //   {location: new google.maps.LatLng(22.542, 88.393), weight: 30},
    //   {location: new google.maps.LatLng(22.572, 88.315), weight: 30},
    //   {location: new google.maps.LatLng(22.512, 88.380), weight: 30},
    //   {location: new google.maps.LatLng(22.515, 88.341), weight: 30},
    //   {location: new google.maps.LatLng(22.535, 88.332), weight: 30},
    //   {location: new google.maps.LatLng(22.549, 88.331), weight: 30},
    //   {location: new google.maps.LatLng(22.509, 88.309), weight: 30},
    //   {location: new google.maps.LatLng(22.587, 88.360), weight: 30},
    //   {location: new google.maps.LatLng(22.591, 88.390), weight: 30},
    //   {location: new google.maps.LatLng(22.571, 88.343), weight: 30},
    //   {location: new google.maps.LatLng(22.539, 88.344), weight: 30},
    //   {location: new google.maps.LatLng(22.507, 88.393), weight: 30},
    //   {location: new google.maps.LatLng(22.513, 88.370), weight: 30},
    //   {location: new google.maps.LatLng(22.575, 88.330), weight: 30},
    //   {location: new google.maps.LatLng(22.500, 88.329), weight: 30},
    //   {location: new google.maps.LatLng(22.594, 88.301), weight: 30},
    //   {location: new google.maps.LatLng(22.575, 88.317), weight: 30},
    //   {location: new google.maps.LatLng(22.593, 88.344), weight: 30},
    //   {location: new google.maps.LatLng(22.517, 88.301), weight: 30},
    //   {location: new google.maps.LatLng(22.532, 88.364), weight: 30},
    //   {location: new google.maps.LatLng(22.559, 88.329), weight: 30},
    //   {location: new google.maps.LatLng(22.600, 88.393), weight: 30},
    //   {location: new google.maps.LatLng(22.547, 88.322), weight: 30},
    //   {location: new google.maps.LatLng(22.547, 88.384), weight: 30},
    //   {location: new google.maps.LatLng(22.536, 88.303), weight: 30},
    //   {location: new google.maps.LatLng(22.518, 88.341), weight: 30},
    //   {location: new google.maps.LatLng(22.539, 88.301), weight: 30},
    //   {location: new google.maps.LatLng(22.559, 88.350), weight: 30},
    //   {location: new google.maps.LatLng(22.583, 88.359), weight: 30},
    //   {location: new google.maps.LatLng(22.529, 88.391), weight: 30},
    //   {location: new google.maps.LatLng(22.597, 88.370), weight: 30},
    //   {location: new google.maps.LatLng(22.546, 88.339), weight: 30},
    //   {location: new google.maps.LatLng(22.564, 88.324), weight: 30},
    //   {location: new google.maps.LatLng(22.515, 88.335), weight: 30},
    //   {location: new google.maps.LatLng(22.566, 88.392), weight: 30},
    //   {location: new google.maps.LatLng(22.526, 88.392), weight: 30},
    //   {location: new google.maps.LatLng(22.547, 88.374), weight: 30},
    //   {location: new google.maps.LatLng(22.541, 88.317), weight: 30},
    //   {location: new google.maps.LatLng(22.586, 88.307), weight: 30},
    //   {location: new google.maps.LatLng(22.516, 88.371), weight: 30},
    //   {location: new google.maps.LatLng(22.550, 88.331), weight: 30},
    //   {location: new google.maps.LatLng(22.514, 88.346), weight: 30},
    //   {location: new google.maps.LatLng(22.540, 88.309), weight: 30},
    //   {location: new google.maps.LatLng(22.595, 88.314), weight: 30},
    //   {location: new google.maps.LatLng(22.584, 88.316), weight: 30},
    //   {location: new google.maps.LatLng(22.525, 88.377), weight: 30},
    //   {location: new google.maps.LatLng(22.572, 88.385), weight: 30},
    //   {location: new google.maps.LatLng(22.578, 88.375), weight: 30},
    //   {location: new google.maps.LatLng(22.580, 88.331), weight: 30},
    //   {location: new google.maps.LatLng(22.598, 88.397), weight: 30},
    //   {location: new google.maps.LatLng(22.563, 88.344), weight: 30},
    //   {location: new google.maps.LatLng(22.574, 88.363), weight: 30},
    //   {location: new google.maps.LatLng(22.562, 88.350), weight: 30},
    //   {location: new google.maps.LatLng(22.592, 88.379), weight: 30},
    //   {location: new google.maps.LatLng(22.590, 88.306), weight: 30},
    //   {location: new google.maps.LatLng(22.557, 88.320), weight: 30},
    //   {location: new google.maps.LatLng(22.535, 88.374), weight: 30},
    //   {location: new google.maps.LatLng(22.535, 88.349), weight: 30},
    //   {location: new google.maps.LatLng(22.564, 88.338), weight: 30},
    //   {location: new google.maps.LatLng(22.595, 88.320), weight: 30},
    //   {location: new google.maps.LatLng(22.550, 88.343), weight: 30},
    //   {location: new google.maps.LatLng(22.511, 88.308), weight: 30},
    //   {location: new google.maps.LatLng(22.548, 88.336), weight: 30},
    //   {location: new google.maps.LatLng(22.554, 88.338), weight: 30},
    //   {location: new google.maps.LatLng(22.523, 88.348), weight: 30},
    //   {location: new google.maps.LatLng(22.587, 88.360), weight: 30},
    //   {location: new google.maps.LatLng(22.578, 88.303), weight: 30},
    //   {location: new google.maps.LatLng(22.592, 88.347), weight: 30},
    //   {location: new google.maps.LatLng(22.547, 88.338), weight: 30},
    //   {location: new google.maps.LatLng(22.531, 88.326), weight: 30},
    //   {location: new google.maps.LatLng(22.565, 88.361), weight: 30},
    //   {location: new google.maps.LatLng(22.503, 88.338), weight: 30},
    //   {location: new google.maps.LatLng(22.563, 88.396), weight: 30},
    //   {location: new google.maps.LatLng(22.552, 88.364), weight: 30},
    //   {location: new google.maps.LatLng(22.538, 88.308), weight: 30},
    //   {location: new google.maps.LatLng(22.599, 88.301), weight: 30},
    //   {location: new google.maps.LatLng(22.588, 88.362), weight: 30},
    //   {location: new google.maps.LatLng(22.520, 88.373), weight: 30},
    //   {location: new google.maps.LatLng(22.585, 88.311), weight: 30},
    //   {location: new google.maps.LatLng(22.545, 88.364), weight: 30},
    //   {location: new google.maps.LatLng(22.532, 88.374), weight: 30},
    //   {location: new google.maps.LatLng(22.525, 88.301), weight: 30},
    //   {location: new google.maps.LatLng(22.555, 88.314), weight: 30},
    //   {location: new google.maps.LatLng(22.546, 88.388), weight: 30},
    //   {location: new google.maps.LatLng(22.561, 88.356), weight: 30},
    //   {location: new google.maps.LatLng(22.534, 88.368), weight: 30},
    //   {location: new google.maps.LatLng(22.557, 88.386), weight: 30},
    //   {location: new google.maps.LatLng(22.510, 88.322), weight: 30},
    //   {location: new google.maps.LatLng(22.563, 88.306), weight: 30},
    //   {location: new google.maps.LatLng(22.578, 88.333), weight: 30},
    //   {location: new google.maps.LatLng(22.501, 88.322), weight: 30},
    //   {location: new google.maps.LatLng(22.584, 88.382), weight: 30},
    //   {location: new google.maps.LatLng(22.583, 88.393), weight: 30},
    //   {location: new google.maps.LatLng(22.598, 88.336), weight: 30},
    //   {location: new google.maps.LatLng(22.568, 88.393), weight: 30},
    //   {location: new google.maps.LatLng(22.501, 88.397), weight: 30},
    //   {location: new google.maps.LatLng(22.592, 88.341), weight: 30},
    //   {location: new google.maps.LatLng(22.558, 88.341), weight: 30},
    //   {location: new google.maps.LatLng(22.565, 88.397), weight: 30},
    //   {location: new google.maps.LatLng(22.597, 88.398), weight: 30},
    //   {location: new google.maps.LatLng(22.581, 88.313), weight: 30},
    //   {location: new google.maps.LatLng(22.570, 88.321), weight: 30},
    //   {location: new google.maps.LatLng(22.558, 88.325), weight: 30},
    //   {location: new google.maps.LatLng(22.511, 88.366), weight: 30},
    //   {location: new google.maps.LatLng(22.507, 88.338), weight: 30},
    //   {location: new google.maps.LatLng(22.514, 88.318), weight: 30},
    //   {location: new google.maps.LatLng(22.589, 88.349), weight: 30},
    //   {location: new google.maps.LatLng(22.597, 88.381), weight: 30},
    //   {location: new google.maps.LatLng(22.568, 88.379), weight: 30},
    //   {location: new google.maps.LatLng(22.536, 88.345), weight: 30},
    //   {location: new google.maps.LatLng(22.597, 88.331), weight: 30},
    //   {location: new google.maps.LatLng(22.519, 88.357), weight: 30},
    //   {location: new google.maps.LatLng(22.507, 88.306), weight: 30},
    //   {location: new google.maps.LatLng(22.537, 88.315), weight: 30},
    //   {location: new google.maps.LatLng(22.565, 88.389), weight: 30},
    //   {location: new google.maps.LatLng(22.521, 88.350), weight: 30},
    //   {location: new google.maps.LatLng(22.560, 88.338), weight: 30},
    //   {location: new google.maps.LatLng(22.542, 88.318), weight: 30},
    //   {location: new google.maps.LatLng(22.541, 88.384), weight: 30},
    //   {location: new google.maps.LatLng(22.592, 88.343), weight: 30},
    //   {location: new google.maps.LatLng(22.517, 88.395), weight: 30},
    //   {location: new google.maps.LatLng(22.553, 88.381), weight: 30},
    //   {location: new google.maps.LatLng(22.569, 88.308), weight: 30},
    //   {location: new google.maps.LatLng(22.519, 88.369), weight: 30},
    //   {location: new google.maps.LatLng(22.518, 88.366), weight: 30},
    //   {location: new google.maps.LatLng(22.536, 88.348), weight: 30},
    //   {location: new google.maps.LatLng(22.576, 88.315), weight: 30},
    //   {location: new google.maps.LatLng(22.546, 88.303), weight: 30},
    //   {location: new google.maps.LatLng(22.599, 88.336), weight: 30},
    //   {location: new google.maps.LatLng(22.582, 88.321), weight: 30},
    //   {location: new google.maps.LatLng(22.576, 88.341), weight: 30},
    //   {location: new google.maps.LatLng(22.566, 88.305), weight: 30},
    //   {location: new google.maps.LatLng(22.533, 88.354), weight: 30},
    //   {location: new google.maps.LatLng(22.514, 88.327), weight: 30},
    //   {location: new google.maps.LatLng(22.533, 88.382), weight: 30},
    //   {location: new google.maps.LatLng(22.521, 88.301), weight: 30},
    //   {location: new google.maps.LatLng(22.586, 88.341), weight: 30},
    //   {location: new google.maps.LatLng(22.597, 88.370), weight: 30},
    //   {location: new google.maps.LatLng(22.569, 88.382), weight: 30},
    //   {location: new google.maps.LatLng(22.510, 88.327), weight: 30},
    //   {location: new google.maps.LatLng(22.586, 88.303), weight: 30},
    //   {location: new google.maps.LatLng(22.541, 88.364), weight: 30},
    //   {location: new google.maps.LatLng(22.514, 88.335), weight: 30},
    //   {location: new google.maps.LatLng(22.528, 88.318), weight: 30},
    //   {location: new google.maps.LatLng(22.579, 88.304), weight: 30},
    //   {location: new google.maps.LatLng(22.580, 88.378), weight: 30},
    //   {location: new google.maps.LatLng(22.587, 88.320), weight: 30},
    //   {location: new google.maps.LatLng(22.561, 88.323), weight: 30},
    //   {location: new google.maps.LatLng(22.597, 88.347), weight: 30},
    //   {location: new google.maps.LatLng(22.521, 88.317), weight: 30},
    //   {location: new google.maps.LatLng(22.539, 88.342), weight: 30},
    //   {location: new google.maps.LatLng(22.546, 88.370), weight: 30},
    //   {location: new google.maps.LatLng(22.519, 88.345), weight: 30},
    //   {location: new google.maps.LatLng(22.502, 88.388), weight: 30},
    //   {location: new google.maps.LatLng(22.501, 88.341), weight: 30},
    //   {location: new google.maps.LatLng(22.579, 88.362), weight: 30},
    //   {location: new google.maps.LatLng(22.552, 88.390), weight: 30},
    //   {location: new google.maps.LatLng(22.534, 88.370), weight: 30},
    //   {location: new google.maps.LatLng(22.550, 88.317), weight: 30},
    //   {location: new google.maps.LatLng(22.550, 88.318), weight: 30},
    //   {location: new google.maps.LatLng(22.531, 88.363), weight: 30},
    //   {location: new google.maps.LatLng(22.531, 88.397), weight: 30},
    //   {location: new google.maps.LatLng(22.557, 88.364), weight: 30},
    //   {location: new google.maps.LatLng(22.543, 88.350), weight: 30},
    //   {location: new google.maps.LatLng(22.549, 88.383), weight: 30},
    //   {location: new google.maps.LatLng(22.562, 88.304), weight: 30},
    //   {location: new google.maps.LatLng(22.525, 88.303), weight: 30},
    //   {location: new google.maps.LatLng(22.543, 88.305), weight: 30},
    //   {location: new google.maps.LatLng(22.536, 88.339), weight: 30},
    //   {location: new google.maps.LatLng(22.500, 88.353), weight: 30},
    //   {location: new google.maps.LatLng(22.596, 88.377), weight: 30},
    //   {location: new google.maps.LatLng(22.567, 88.345), weight: 30},
    //   {location: new google.maps.LatLng(22.504, 88.377), weight: 30},
    //   {location: new google.maps.LatLng(22.560, 88.313), weight: 30},
    //   {location: new google.maps.LatLng(22.595, 88.306), weight: 30},
    //   {location: new google.maps.LatLng(22.572, 88.367), weight: 30},
    //   {location: new google.maps.LatLng(22.501, 88.379), weight: 30},
    //   {location: new google.maps.LatLng(22.522, 88.312), weight: 30},
    //   {location: new google.maps.LatLng(22.544, 88.351), weight: 30},
    //   {location: new google.maps.LatLng(22.553, 88.359), weight: 30},
    //   {location: new google.maps.LatLng(22.532, 88.334), weight: 30},
    //   {location: new google.maps.LatLng(22.562, 88.379), weight: 30},
    //   {location: new google.maps.LatLng(22.528, 88.350), weight: 30},
    //   {location: new google.maps.LatLng(22.584, 88.344), weight: 30},
    //   {location: new google.maps.LatLng(22.557, 88.400), weight: 30},
    //   {location: new google.maps.LatLng(22.539, 88.394), weight: 30},
    //   {location: new google.maps.LatLng(22.514, 88.386), weight: 30},
    //   {location: new google.maps.LatLng(22.590, 88.381), weight: 30},
    //   {location: new google.maps.LatLng(22.555, 88.350), weight: 30},
    //   {location: new google.maps.LatLng(22.547, 88.385), weight: 30},
    //   {location: new google.maps.LatLng(22.535, 88.374), weight: 30},
    //   {location: new google.maps.LatLng(22.524, 88.312), weight: 30},
    //   {location: new google.maps.LatLng(22.579, 88.347), weight: 30},
    //   {location: new google.maps.LatLng(22.570, 88.304), weight: 30},
    //   {location: new google.maps.LatLng(22.586, 88.318), weight: 30},
    //   {location: new google.maps.LatLng(22.584, 88.398), weight: 30},
    //   {location: new google.maps.LatLng(22.513, 88.378), weight: 30},
    //   {location: new google.maps.LatLng(22.585, 88.345), weight: 30},
    //   {location: new google.maps.LatLng(22.578, 88.357), weight: 30},
    //   {location: new google.maps.LatLng(22.572, 88.316), weight: 30},
    //   {location: new google.maps.LatLng(22.522, 88.385), weight: 30},
    //   {location: new google.maps.LatLng(22.555, 88.307), weight: 30},
    //   {location: new google.maps.LatLng(22.558, 88.308), weight: 30},
    //   {location: new google.maps.LatLng(22.565, 88.356), weight: 30},
    //   {location: new google.maps.LatLng(22.509, 88.400), weight: 30},
    //   {location: new google.maps.LatLng(22.542, 88.377), weight: 30},
    //   {location: new google.maps.LatLng(22.552, 88.372), weight: 30},
    //   {location: new google.maps.LatLng(22.552, 88.395), weight: 30},
    //   {location: new google.maps.LatLng(22.541, 88.309), weight: 30},
    //   {location: new google.maps.LatLng(22.536, 88.378), weight: 30},
    //   {location: new google.maps.LatLng(22.531, 88.301), weight: 30},
    //   {location: new google.maps.LatLng(22.504, 88.355), weight: 30},
    //   {location: new google.maps.LatLng(22.573, 88.341), weight: 30},
    //   {location: new google.maps.LatLng(22.587, 88.382), weight: 30},
    //   {location: new google.maps.LatLng(22.523, 88.357), weight: 30},
    //   {location: new google.maps.LatLng(22.530, 88.334), weight: 30},
    //   {location: new google.maps.LatLng(22.580, 88.321), weight: 30},
    //   {location: new google.maps.LatLng(22.588, 88.306), weight: 30},
    //   {location: new google.maps.LatLng(22.506, 88.354), weight: 30},
    //   {location: new google.maps.LatLng(22.596, 88.329), weight: 30},
    //   {location: new google.maps.LatLng(22.531, 88.386), weight: 30},
    //   {location: new google.maps.LatLng(22.520, 88.343), weight: 30},
    //   {location: new google.maps.LatLng(22.593, 88.343), weight: 30},
    //   {location: new google.maps.LatLng(22.520, 88.318), weight: 30},
    //   {location: new google.maps.LatLng(22.574, 88.321), weight: 30},
    //   {location: new google.maps.LatLng(22.554, 88.303), weight: 30},
    //   {location: new google.maps.LatLng(22.598, 88.344), weight: 30},
    //   {location: new google.maps.LatLng(22.551, 88.377), weight: 30},
    //   {location: new google.maps.LatLng(22.589, 88.364), weight: 30},
    //   {location: new google.maps.LatLng(22.525, 88.369), weight: 30},
    //   {location: new google.maps.LatLng(22.547, 88.396), weight: 30},
    //   {location: new google.maps.LatLng(22.555, 88.342), weight: 30},
    //   {location: new google.maps.LatLng(22.561, 88.300), weight: 30},
    //   {location: new google.maps.LatLng(22.513, 88.392), weight: 30},
    //   {location: new google.maps.LatLng(22.589, 88.386), weight: 30},
    //   {location: new google.maps.LatLng(22.584, 88.377), weight: 30},
    //   {location: new google.maps.LatLng(22.516, 88.348), weight: 30},
    //   {location: new google.maps.LatLng(22.534, 88.341), weight: 30},
    //   {location: new google.maps.LatLng(22.527, 88.372), weight: 30},
    //   {location: new google.maps.LatLng(22.515, 88.371), weight: 30},
    //   {location: new google.maps.LatLng(22.578, 88.397), weight: 30},
    //   {location: new google.maps.LatLng(22.559, 88.348), weight: 30},
    //   {location: new google.maps.LatLng(22.520, 88.359), weight: 30},
    //   {location: new google.maps.LatLng(22.501, 88.395), weight: 30},
    //   {location: new google.maps.LatLng(22.538, 88.343), weight: 30},
    //   {location: new google.maps.LatLng(22.569, 88.327), weight: 30},
    //   {location: new google.maps.LatLng(22.524, 88.398), weight: 30},
    //   {location: new google.maps.LatLng(22.567, 88.302), weight: 30},
    //   {location: new google.maps.LatLng(22.527, 88.324), weight: 30},
    //   {location: new google.maps.LatLng(22.534, 88.385), weight: 30},
    //   {location: new google.maps.LatLng(22.568, 88.338), weight: 30},
    //   {location: new google.maps.LatLng(22.578, 88.385), weight: 30},
    //   {location: new google.maps.LatLng(22.514, 88.331), weight: 30},
    //   {location: new google.maps.LatLng(22.560, 88.392), weight: 30},
    //   {location: new google.maps.LatLng(22.594, 88.384), weight: 30},
    //   {location: new google.maps.LatLng(22.527, 88.313), weight: 30},
    //   {location: new google.maps.LatLng(22.573, 88.307), weight: 30},
    //   {location: new google.maps.LatLng(22.563, 88.391), weight: 30},
    //   {location: new google.maps.LatLng(22.580, 88.369), weight: 30},
    //   {location: new google.maps.LatLng(22.529, 88.347), weight: 30},
    //   {location: new google.maps.LatLng(22.577, 88.371), weight: 30},
    //   {location: new google.maps.LatLng(22.531, 88.301), weight: 30},
    //   {location: new google.maps.LatLng(22.590, 88.316), weight: 30},
    //   {location: new google.maps.LatLng(22.595, 88.304), weight: 30},
    //   {location: new google.maps.LatLng(22.581, 88.379), weight: 30},
    //   {location: new google.maps.LatLng(22.506, 88.315), weight: 30},
    //   {location: new google.maps.LatLng(22.566, 88.389), weight: 30},
    //   {location: new google.maps.LatLng(22.531, 88.326), weight: 30},
    //   {location: new google.maps.LatLng(22.517, 88.392), weight: 30},
    //   {location: new google.maps.LatLng(22.591, 88.372), weight: 30},
    //   {location: new google.maps.LatLng(22.531, 88.354), weight: 30},
    //   {location: new google.maps.LatLng(22.538, 88.323), weight: 30},
    //   {location: new google.maps.LatLng(22.566, 88.356), weight: 30},
    //   {location: new google.maps.LatLng(22.576, 88.301), weight: 30},
    //   {location: new google.maps.LatLng(22.554, 88.387), weight: 30},
    //   {location: new google.maps.LatLng(22.579, 88.357), weight: 30},
    //   {location: new google.maps.LatLng(22.550, 88.380), weight: 30},
    //   {location: new google.maps.LatLng(22.594, 88.377), weight: 30},
    //   {location: new google.maps.LatLng(22.555, 88.394), weight: 30},
    //   {location: new google.maps.LatLng(22.580, 88.369), weight: 30},
    //   {location: new google.maps.LatLng(22.595, 88.349), weight: 30},
    //   {location: new google.maps.LatLng(22.548, 88.332), weight: 30},
    //   {location: new google.maps.LatLng(22.585, 88.313), weight: 30},
    //   {location: new google.maps.LatLng(22.512, 88.319), weight: 30},
    //   {location: new google.maps.LatLng(22.534, 88.396), weight: 30},
    //   {location: new google.maps.LatLng(22.592, 88.319), weight: 30},
    //   {location: new google.maps.LatLng(22.572, 88.306), weight: 30},
    //   {location: new google.maps.LatLng(22.527, 88.334), weight: 30},
    //   {location: new google.maps.LatLng(22.591, 88.300), weight: 30},
    //   {location: new google.maps.LatLng(22.544, 88.326), weight: 30},
    //   {location: new google.maps.LatLng(22.597, 88.371), weight: 30},
    //   {location: new google.maps.LatLng(22.540, 88.382), weight: 30},
    //   {location: new google.maps.LatLng(22.570, 88.399), weight: 30},
    //   {location: new google.maps.LatLng(22.536, 88.366), weight: 30},
    //   {location: new google.maps.LatLng(22.557, 88.346), weight: 30},
    //   {location: new google.maps.LatLng(22.567, 88.386), weight: 30},
    //   {location: new google.maps.LatLng(22.502, 88.357), weight: 30},
    //   {location: new google.maps.LatLng(22.533, 88.332), weight: 30},
    //   {location: new google.maps.LatLng(22.524, 88.366), weight: 30},
    //   {location: new google.maps.LatLng(22.503, 88.374), weight: 30},
    //   {location: new google.maps.LatLng(22.551, 88.302), weight: 30},
    //   {location: new google.maps.LatLng(22.524, 88.344), weight: 30},
    //   {location: new google.maps.LatLng(22.549, 88.389), weight: 30},
    //   {location: new google.maps.LatLng(22.599, 88.373), weight: 30},
    //   {location: new google.maps.LatLng(22.518, 88.373), weight: 30},
    //   {location: new google.maps.LatLng(22.509, 88.380), weight: 30},
    //   {location: new google.maps.LatLng(22.572, 88.301), weight: 30},
    //   {location: new google.maps.LatLng(22.594, 88.362), weight: 30},
    //   {location: new google.maps.LatLng(22.503, 88.394), weight: 30},
    //   {location: new google.maps.LatLng(22.503, 88.346), weight: 30},
    //   {location: new google.maps.LatLng(22.523, 88.339), weight: 30},
    //   {location: new google.maps.LatLng(22.571, 88.359), weight: 30},
    //   {location: new google.maps.LatLng(22.521, 88.346), weight: 30},
    //   {location: new google.maps.LatLng(22.526, 88.363), weight: 30},
    //   {location: new google.maps.LatLng(22.550, 88.346), weight: 30},
    //   {location: new google.maps.LatLng(22.528, 88.334), weight: 30},
    //   {location: new google.maps.LatLng(22.534, 88.347), weight: 30},
    //   {location: new google.maps.LatLng(22.593, 88.349), weight: 30},
    //   {location: new google.maps.LatLng(22.560, 88.363), weight: 30},
    //   {location: new google.maps.LatLng(22.505, 88.358), weight: 30},
    //   {location: new google.maps.LatLng(22.591, 88.362), weight: 30},
    //   {location: new google.maps.LatLng(22.566, 88.372), weight: 30},
    //   {location: new google.maps.LatLng(22.542, 88.322), weight: 30},
    //   {location: new google.maps.LatLng(22.512, 88.350), weight: 30},
    //   {location: new google.maps.LatLng(22.541, 88.302), weight: 30},
    //   {location: new google.maps.LatLng(22.593, 88.352), weight: 30},
    //   {location: new google.maps.LatLng(22.589, 88.358), weight: 30},
    //   {location: new google.maps.LatLng(22.579, 88.351), weight: 30},
    //   {location: new google.maps.LatLng(22.589, 88.377), weight: 30},
    //   {location: new google.maps.LatLng(22.575, 88.317), weight: 30},
    //   {location: new google.maps.LatLng(22.523, 88.367), weight: 30},
    //   {location: new google.maps.LatLng(22.592, 88.385), weight: 30},
    //   {location: new google.maps.LatLng(22.585, 88.336), weight: 30},
    //   {location: new google.maps.LatLng(22.596, 88.315), weight: 30},
    //   {location: new google.maps.LatLng(22.592, 88.373), weight: 30},
    //   {location: new google.maps.LatLng(22.553, 88.396), weight: 30},
    //   {location: new google.maps.LatLng(22.591, 88.399), weight: 30},
    //   {location: new google.maps.LatLng(22.589, 88.347), weight: 30},
    //   {location: new google.maps.LatLng(22.539, 88.371), weight: 30},
    //   {location: new google.maps.LatLng(22.589, 88.336), weight: 30},
    //   {location: new google.maps.LatLng(22.556, 88.384), weight: 30},
    //   {location: new google.maps.LatLng(22.525, 88.323), weight: 30},
    //   {location: new google.maps.LatLng(22.559, 88.305), weight: 30},
    //   {location: new google.maps.LatLng(22.575, 88.307), weight: 30},
    //   {location: new google.maps.LatLng(22.520, 88.324), weight: 30},
    //   {location: new google.maps.LatLng(22.532, 88.361), weight: 30},
    //   {location: new google.maps.LatLng(22.528, 88.362), weight: 30},
    //   {location: new google.maps.LatLng(22.589, 88.343), weight: 30},
    //   {location: new google.maps.LatLng(22.595, 88.395), weight: 30},
    //   {location: new google.maps.LatLng(22.524, 88.368), weight: 30},
    //   {location: new google.maps.LatLng(22.592, 88.385), weight: 30},
    //   {location: new google.maps.LatLng(22.515, 88.373), weight: 30},
    //   {location: new google.maps.LatLng(22.505, 88.334), weight: 30},
    //   {location: new google.maps.LatLng(22.570, 88.348), weight: 30},
    //   {location: new google.maps.LatLng(22.586, 88.346), weight: 30},
    //   {location: new google.maps.LatLng(22.505, 88.380), weight: 30},
    //   {location: new google.maps.LatLng(22.500, 88.339), weight: 30},
    //   {location: new google.maps.LatLng(22.538, 88.364), weight: 30},
    //   {location: new google.maps.LatLng(22.566, 88.366), weight: 30},
    //   {location: new google.maps.LatLng(22.576, 88.326), weight: 30},
    //   {location: new google.maps.LatLng(22.532, 88.361), weight: 30},
    //   {location: new google.maps.LatLng(22.538, 88.387), weight: 30},
    //   {location: new google.maps.LatLng(22.538, 88.317), weight: 30},
    //   {location: new google.maps.LatLng(22.538, 88.345), weight: 30},
    //   {location: new google.maps.LatLng(22.523, 88.310), weight: 30},
    //   {location: new google.maps.LatLng(22.575, 88.309), weight: 30},
    //   {location: new google.maps.LatLng(22.589, 88.326), weight: 30},
    //   {location: new google.maps.LatLng(22.524, 88.322), weight: 30},
    //   {location: new google.maps.LatLng(22.563, 88.397), weight: 30},
    //   {location: new google.maps.LatLng(22.504, 88.335), weight: 30},
    //   {location: new google.maps.LatLng(22.546, 88.398), weight: 30},
    //   {location: new google.maps.LatLng(22.595, 88.316), weight: 30},
    //   {location: new google.maps.LatLng(22.509, 88.331), weight: 30},
    //   {location: new google.maps.LatLng(22.515, 88.307), weight: 30},
    //   {location: new google.maps.LatLng(22.500, 88.358), weight: 30},
    //   {location: new google.maps.LatLng(22.584, 88.333), weight: 30},
    //   {location: new google.maps.LatLng(22.583, 88.373), weight: 30},
    //   {location: new google.maps.LatLng(22.539, 88.326), weight: 30},
    //   {location: new google.maps.LatLng(22.580, 88.351), weight: 30},
    //   {location: new google.maps.LatLng(22.559, 88.397), weight: 30},
    //   {location: new google.maps.LatLng(22.505, 88.326), weight: 30},
    //   {location: new google.maps.LatLng(22.548, 88.365), weight: 30},
    //   {location: new google.maps.LatLng(22.538, 88.360), weight: 30},
    //   {location: new google.maps.LatLng(22.523, 88.339), weight: 30},
    //   {location: new google.maps.LatLng(22.542, 88.353), weight: 30},
    //   {location: new google.maps.LatLng(22.578, 88.396), weight: 30},
    //   {location: new google.maps.LatLng(22.530, 88.378), weight: 30},
    //   {location: new google.maps.LatLng(22.599, 88.363), weight: 30},
    //   {location: new google.maps.LatLng(22.535, 88.334), weight: 30},
    //   {location: new google.maps.LatLng(22.532, 88.380), weight: 30},
    //   {location: new google.maps.LatLng(22.589, 88.330), weight: 30},
    //   {location: new google.maps.LatLng(22.525, 88.372), weight: 30},
    //   {location: new google.maps.LatLng(22.535, 88.375), weight: 30},
    //   {location: new google.maps.LatLng(22.509, 88.319), weight: 30},
    //   {location: new google.maps.LatLng(22.580, 88.305), weight: 30},
    //   {location: new google.maps.LatLng(22.591, 88.387), weight: 30},
    //   {location: new google.maps.LatLng(22.540, 88.388), weight: 30},
    //   {location: new google.maps.LatLng(22.557, 88.374), weight: 30},
    //   {location: new google.maps.LatLng(22.570, 88.301), weight: 30},
    //   {location: new google.maps.LatLng(22.547, 88.341), weight: 30},
    //   {location: new google.maps.LatLng(22.510, 88.320), weight: 30},
    //   {location: new google.maps.LatLng(22.574, 88.310), weight: 30},
    //   {location: new google.maps.LatLng(22.507, 88.389), weight: 30},
    //   {location: new google.maps.LatLng(22.557, 88.309), weight: 30},
    //   {location: new google.maps.LatLng(22.571, 88.316), weight: 30},
    //   {location: new google.maps.LatLng(22.562, 88.331), weight: 30},
    //   {location: new google.maps.LatLng(22.582, 88.392), weight: 30},
    //   {location: new google.maps.LatLng(22.534, 88.310), weight: 30},
    //   {location: new google.maps.LatLng(22.539, 88.351), weight: 30},
    //   {location: new google.maps.LatLng(22.540, 88.349), weight: 30},
    //   {location: new google.maps.LatLng(22.552, 88.339), weight: 30},
    //   {location: new google.maps.LatLng(22.545, 88.378), weight: 30},
    //   {location: new google.maps.LatLng(22.525, 88.400), weight: 30},
    //   {location: new google.maps.LatLng(22.521, 88.324), weight: 30},
    //   {location: new google.maps.LatLng(22.570, 88.317), weight: 30},
    //   {location: new google.maps.LatLng(22.544, 88.325), weight: 30},
    //   {location: new google.maps.LatLng(22.540, 88.345), weight: 30},
    //   {location: new google.maps.LatLng(22.598, 88.342), weight: 30},
    //   {location: new google.maps.LatLng(22.589, 88.386), weight: 30},
    //   {location: new google.maps.LatLng(22.524, 88.338), weight: 30},
    //   {location: new google.maps.LatLng(22.509, 88.356), weight: 30},
    //   {location: new google.maps.LatLng(22.525, 88.328), weight: 30},
    //   {location: new google.maps.LatLng(22.515, 88.336), weight: 30},
    //   {location: new google.maps.LatLng(22.531, 88.340), weight: 30},
    //   {location: new google.maps.LatLng(22.502, 88.383), weight: 30},
    //   {location: new google.maps.LatLng(22.505, 88.342), weight: 30},
    //   {location: new google.maps.LatLng(22.519, 88.362), weight: 30},
    //   {location: new google.maps.LatLng(22.504, 88.331), weight: 30},
    //   {location: new google.maps.LatLng(22.505, 88.314), weight: 30},
    //   {location: new google.maps.LatLng(22.536, 88.347), weight: 30},
    //   {location: new google.maps.LatLng(22.551, 88.324), weight: 30},
    //   {location: new google.maps.LatLng(22.503, 88.354), weight: 30},
    //   {location: new google.maps.LatLng(22.565, 88.371), weight: 30},
    //   {location: new google.maps.LatLng(22.574, 88.363), weight: 30},
    //   {location: new google.maps.LatLng(22.550, 88.374), weight: 30},
    //   {location: new google.maps.LatLng(22.567, 88.362), weight: 30},
    //   {location: new google.maps.LatLng(22.583, 88.323), weight: 30},
    //   {location: new google.maps.LatLng(22.586, 88.390), weight: 30},
    //   {location: new google.maps.LatLng(22.547, 88.344), weight: 30},
    //   {location: new google.maps.LatLng(22.538, 88.372), weight: 30},
    // ];
    this.subscribeservice.setHeader('Heat Map of Infected Regions Across India');
    this.userloader = true;
    this.appservice.gatherHeatMapDataApi()
    .then((response: HttpResponse<any>) => {
      this.userloader = false;
      if (response.status == 200) {
        response.body.forEach((data: any) => {
          let tempData: HeatMapData = new HeatMapData(data);
          this.heatMapData.push(tempData);
        });
        console.log(this.heatMapData);
        console.log(this.kolkata);
      }
    }).catch((err: any) => {
      this.userloader = false;
      console.log(err)
    })
    this.mapInitializer();
  }

  mapInitializer() {
    // this.map = new google.maps.Map(this.gmap.nativeElement, 
    // this.mapOptions);
    // this.marker.setMap(this.map);
    var map = new google.maps.Map(document.getElementById('map'), {
      center: this.kolkata,
      zoom: 13,
      mapTypeId: 'roadmap'
    });
    var heatmap = new google.maps.visualization.HeatmapLayer({
      data: this.heatMapData
    });
    heatmap.setMap(map);
   }
}
